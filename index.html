<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>徐明君的个人主页/Xu Mingjun's HomePage</title>
<link rel="stylesheet" type="text/css" href="css/common.css" />
<link rel="stylesheet" type="text/css" href="css/icon.css" />

<style type="text/css">
	img#me {
		padding: 5px;
		margin: 5px;
		float: right;
	}
	ul.follow {
		display: inline-block;
		vertical-align: text-bottom;
		margin: 0;
		padding: 0;
	}
	ul.follow>li {
		display: inline;
	}
	ul.follow img {
		width: 24px;
		height: 24px;
	}
	ul.follow a:hover {
		text-decoration: none;
	}

	ul#interest>li {
		vertical-align:top;
		display: inline-block;
		width: 340px;
		height: 215px;
		margin: 2px 1px;
	}
	.chart {
		width: 100%;
		height: 100%;
	}
	.center {text-align: center;}
	#upload {display: none;}
	.upload {margin: 5px;}
	.upload > .heading {
		background-color: lightgray;
		border: 0;
	}
	.upload > .action > form > button {
		float:right;
	}
	.formula {
		font-size: 3.5em;
	}
</style>
</head>

<body>


<div id="main">
<header>
	<h1>欢迎光临<mark>徐明君</mark>的个人主页</h1>
	<img class="box" id="me" src="img/me.png"></img>
</header>
<ul id="interest">
<li class="box">
	<article>
		<header class="center">国风·郑风·子衿</header>
		<p>青青子衿，悠悠我心。纵我不往，子宁不嗣音？</p>
		<p>青青子佩，悠悠我思。纵我不往，子宁不来？</p>
		<p>挑兮达兮，在城阙兮。一日不见，如三月兮。</p>
	</article>
</li>
<li class="box">
	<article class="wenxin">
		<header class="center"><a href="share/wenxin" target="_blank">文心</a>雕龙</header>
		<p>
			夫<a href="share/wenxin" target="_blank">文心</a>者，言为文之用心也。
			昔涓子《琴心》，王孙《巧心》，心哉美矣，故用之焉。
			古来文章，以雕缛成体，岂取驺奭之群言雕龙也。
			夫宇宙绵邈，黎献纷杂，拔萃出类，智术而已。
			岁月飘忽，性灵不居，腾声飞实，制作而已。
			夫人肖貌天地，禀性五才，拟耳目于日月，方声气乎风雷，其超出万物，亦已灵矣。
			形同草木之脆，名逾金石之坚，是以君子处世，树德建言，岂好辩哉？不得已也！
		</p>
	</article>
</li>
<li class="box">
	<article >
		<header class="center">数学之美：欧拉恒等式</header>
		<span class="formula">\( e^{i \pi} + 1 = 0 \)</span>
		<cite>
			<a href="share/Euler_s__identity.mp4" target="_blank">求证</a>
		</cite>
	</article>
</li>
</ul>

<div class="upload">
	<button class="heading">发送文件给我</button>
	<div class="action hidden">
		<form id="form" action="data/files" method="post"
			enctype="multipart/form-data" target="upload">
			<input type="file" id="file" name="file" multiple />
			<button type="submit">上传</button>
		</form>
		<div class="hidden">
			<progress max="100" value="0">0%</progress>
			<span></span>
		</div>
		<iframe id="upload" name="upload"></iframe>
		<ul class="hidden"></ul>
	</div>
</div>
<div>
	关注我：
	<ul class="follow">
		<li>
			<a href="http://weibo.com/cantycando" target="_blank">
				<img src="img/tw1tter.png" alt="weibo"></img>
			</a>
		</li>
		<li>
			<a href="http://www.renren.com/mingjunx" target="_blank">
				<img src="img/faceb00k.png"></img>
			</a>
		</li>
		<li>
			<a href="https://twitter.com/#!/MingjunXu" target="_blank">
				<img src="img/tw1tter.png"></img>
			</a>
		</li>
		<li>
			<a href="https://www.facebook.com/MingjunXu" target="_blank">
				<img src="img/faceb00k.png"></img>
			</a>
		</li>
		<li>
			<a href="http://tw.battle.net/wow/zh/character/%E5%B1%A0%E9%AD%94%E5%B1%B1%E8%B0%B7/%E6%A5%8A%E8%B6%85/simple"
				target="_blank">
				<img src="img/wow.jpg"></img>
			</a>
		</li>
	</ul>
</div>

</div>

<footer style="clear:both;">
<ul class="nav">
	<li>
		<span class="email">
			<a href="mailto:mr DOT xu DOT mingjun AT gmail DOT com" target="_blank">发邮件给我</a>
		</span>
	</li>
	<li>
		<span class="xmj">
		<a href="http://about.xumingjun.name" target="_blank">更多我的信息</a>
		</span>
	</li>
</ul>
<address>
	中国上海，科苑路399号10号楼，邮编:201203
</address>
</footer>
<script type="text/javascript">
var dojoConfig = {
	baseUrl: "/js/",
	packages: [
		{ name: "dojo", location: "dojo" },
		{ name: "dijit", location: "dijit" },
		{ name: "dojox", location: "dojox" },
		{ name: "xmj", location: "xmj", main: "xmj" }
	]
};
</script>
<script type="text/javascript" src="/js/dojo/dojo.js" data-dojo-config="async:true"></script>
<script type="text/javascript">
require(["xmj"], function(xmj){

require([
	"dojo/domReady",
	"dojo/dom",
	"dojo/dom-construct",
	"dojo/dom-class",
	"dojo/_base/array",
	"dojo/on",
	"dojo/query",
	"dojo/json",
	"dojo/_base/xhr",
	"xmj/UploadHelper",
	"xmj/formatter"
],
function(ready, dom, domConstruct, domClass, array, on, query, json, xhr,
		UploadHelper, formatter) {
	ready(function () {
		var uploadContainer = query(".upload")[0];
		var uploadHeading = query(".heading", uploadContainer)[0];
		on(uploadHeading, "click", function() {
			xhr("GET", {url: "data/session", handleAs: "json"}).then(
				function(session) {
					domClass.toggle(uploadContainer, "box");
					domClass.toggle(query(".action", uploadContainer)[0], "hidden");
				},
				function(error) {
					uploadHeading.innerHTML="功能暂时无效";
				}
			);
		});
		var progressContainer = query("form~div", uploadContainer)[0];
		function createLinks(fileInfos) {
			domClass.add(progressContainer, "hidden");
			var list = query("iframe#upload+ul", uploadContainer)[0];
			fileInfos && domClass.toggle(list, "hidden", fileInfos.length===0);
			array.forEach(fileInfos, function(info) {
				var item = domConstruct.create("li", {}, list, "last");
				var a = domConstruct.create("a", {href: info.uploadedUrl, innerHTML: info.uploadedName}, item, "only");
			});
		}

		var progress = query("progress", progressContainer)[0];
		var uploadPogressText = query("span", uploadContainer)[0];
		function showProgress(p) {
			domClass.remove(progressContainer, "hidden");
			uploadPogressText.innerHTML = formatter.toSpace(p.uploadSize) +"/"+ formatter.toSpace(p.totalSize);
			progress.value=p.percentage;
		}
		(new UploadHelper).bind(query("form", uploadContainer)[0], dom.byId("upload"), showProgress, createLinks);

		xhr("GET", {url: "data/host/statistics", handleAs: "json"}).then(function(statistics) {
			require(["xmj/chart"], function(chart){
				var li = domConstruct.create("li", {className: "box"}, dom.byId("interest"), "last");
				var div = domConstruct.create("div", {className: "chart"}, li, "only");
				chart(statistics, div);
			});
		});
	});
});

});
</script>
<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
</body>
</html>
